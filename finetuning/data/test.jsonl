{"question": "Schema:\nCREATE TABLE employees (\n  id INTEGER PRIMARY KEY,\n  name TEXT NOT NULL,\n  department TEXT,\n  salary INTEGER,\n  years_experience INTEGER\n);\n\nQuestion: How many employees work in Engineering?", "answer": "SELECT COUNT(*) FROM employees WHERE department = 'Engineering';"}
{"question": "Schema:\nCREATE TABLE products (\n  id INTEGER PRIMARY KEY,\n  name TEXT NOT NULL,\n  brand TEXT,\n  price REAL,\n  in_stock BOOLEAN\n);\n\nQuestion: What is the average price of Nike products?", "answer": "SELECT AVG(price) FROM products WHERE brand = 'Nike';"}
{"question": "Schema:\nCREATE TABLE customers (\n  id INTEGER PRIMARY KEY,\n  first_name TEXT,\n  last_name TEXT,\n  country TEXT,\n  registration_date DATE\n);\n\nQuestion: Show all customers from Canada.", "answer": "SELECT * FROM customers WHERE country = 'Canada';"}
{"question": "Schema:\nCREATE TABLE orders (\n  id INTEGER PRIMARY KEY,\n  customer_id INTEGER,\n  order_date DATE,\n  subtotal REAL,\n  tax REAL,\n  status TEXT\n);\n\nQuestion: What is the sum of all pending orders?", "answer": "SELECT SUM(subtotal + tax) FROM orders WHERE status = 'pending';"}
{"question": "Schema:\nCREATE TABLE students (\n  id INTEGER PRIMARY KEY,\n  full_name TEXT NOT NULL,\n  department TEXT,\n  gpa REAL,\n  credits_completed INTEGER\n);\n\nQuestion: Who are the top 10 students by credits completed?", "answer": "SELECT full_name, credits_completed FROM students ORDER BY credits_completed DESC LIMIT 10;"}
{"question": "Schema:\nCREATE TABLE payments (\n  id INTEGER PRIMARY KEY,\n  invoice_id INTEGER,\n  amount REAL,\n  payment_method TEXT,\n  payment_date DATE\n);\n\nQuestion: What is the largest payment received?", "answer": "SELECT MAX(amount) FROM payments;"}
{"question": "Schema:\nCREATE TABLE articles (\n  id INTEGER PRIMARY KEY,\n  author_id INTEGER,\n  title TEXT,\n  views INTEGER,\n  published_at DATETIME\n);\n\nQuestion: How many articles have more than 1000 views?", "answer": "SELECT COUNT(*) FROM articles WHERE views > 1000;"}
{"question": "Schema:\nCREATE TABLE patients (\n  id INTEGER PRIMARY KEY,\n  name TEXT NOT NULL,\n  date_of_birth DATE,\n  blood_type TEXT,\n  insurance_provider TEXT\n);\n\nQuestion: What is the count of patients by blood type?", "answer": "SELECT blood_type, COUNT(*) FROM patients GROUP BY blood_type;"}
{"question": "Schema:\nCREATE TABLE employees (\n  id INTEGER PRIMARY KEY,\n  name TEXT NOT NULL,\n  role TEXT,\n  hourly_rate REAL,\n  is_contractor BOOLEAN\n);\n\nQuestion: List all contractors with hourly rate above 75.", "answer": "SELECT * FROM employees WHERE is_contractor = 1 AND hourly_rate > 75;"}
{"question": "Schema:\nCREATE TABLE inventory (\n  id INTEGER PRIMARY KEY,\n  product_name TEXT NOT NULL,\n  warehouse TEXT,\n  quantity INTEGER,\n  last_updated DATE\n);\n\nQuestion: How many items have zero quantity?", "answer": "SELECT COUNT(*) FROM inventory WHERE quantity = 0;"}
{"question": "Schema:\nCREATE TABLE bookings (\n  id INTEGER PRIMARY KEY,\n  guest_name TEXT,\n  room_type TEXT,\n  check_in DATE,\n  check_out DATE,\n  total_price REAL\n);\n\nQuestion: What is the average booking price?", "answer": "SELECT AVG(total_price) FROM bookings;"}
{"question": "Schema:\nCREATE TABLE courses (\n  id INTEGER PRIMARY KEY,\n  title TEXT NOT NULL,\n  instructor TEXT,\n  duration_hours INTEGER,\n  difficulty TEXT\n);\n\nQuestion: Show all advanced courses.", "answer": "SELECT * FROM courses WHERE difficulty = 'advanced';"}
{"question": "Schema:\nCREATE TABLE employees (\n  id INTEGER PRIMARY KEY,\n  name TEXT NOT NULL,\n  team TEXT,\n  base_salary INTEGER,\n  bonus INTEGER\n);\n\nQuestion: What is the total compensation (salary + bonus) per team?", "answer": "SELECT team, SUM(base_salary + bonus) FROM employees GROUP BY team;"}
{"question": "Schema:\nCREATE TABLE products (\n  id INTEGER PRIMARY KEY,\n  name TEXT NOT NULL,\n  category TEXT,\n  cost REAL,\n  selling_price REAL\n);\n\nQuestion: Which categories have average profit margin above 20%?", "answer": "SELECT category, AVG((selling_price - cost) / cost * 100) FROM products GROUP BY category HAVING AVG((selling_price - cost) / cost * 100) > 20;"}
{"question": "Schema:\nCREATE TABLE members (\n  id INTEGER PRIMARY KEY,\n  username TEXT UNIQUE,\n  email TEXT,\n  join_date DATE,\n  is_premium BOOLEAN\n);\n\nQuestion: How many premium members joined in 2023?", "answer": "SELECT COUNT(*) FROM members WHERE is_premium = 1 AND join_date >= '2023-01-01' AND join_date < '2024-01-01';"}
{"question": "Schema:\nCREATE TABLE reservations (\n  id INTEGER PRIMARY KEY,\n  restaurant_id INTEGER,\n  party_size INTEGER,\n  reservation_time DATETIME,\n  status TEXT\n);\n\nQuestion: How many reservations are confirmed for parties of 4 or more?", "answer": "SELECT COUNT(*) FROM reservations WHERE status = 'confirmed' AND party_size >= 4;"}
{"question": "Schema:\nCREATE TABLE expenses (\n  id INTEGER PRIMARY KEY,\n  employee_id INTEGER,\n  amount REAL,\n  category TEXT,\n  expense_date DATE\n);\n\nQuestion: What is the total travel expenses?", "answer": "SELECT SUM(amount) FROM expenses WHERE category = 'travel';"}
{"question": "Schema:\nCREATE TABLE employees (\n  id INTEGER PRIMARY KEY,\n  name TEXT NOT NULL,\n  department TEXT,\n  salary INTEGER,\n  performance_rating REAL\n);\n\nQuestion: Who has the lowest performance rating?", "answer": "SELECT name, performance_rating FROM employees ORDER BY performance_rating ASC LIMIT 1;"}
{"question": "Schema:\nCREATE TABLE products (\n  id INTEGER PRIMARY KEY,\n  sku TEXT UNIQUE,\n  name TEXT,\n  weight REAL,\n  dimensions TEXT\n);\n\nQuestion: What is the total weight of all products?", "answer": "SELECT SUM(weight) FROM products;"}
{"question": "Schema:\nCREATE TABLE tickets (\n  id INTEGER PRIMARY KEY,\n  customer_id INTEGER,\n  subject TEXT,\n  priority TEXT,\n  created_at DATETIME\n);\n\nQuestion: How many tickets exist per priority level?", "answer": "SELECT priority, COUNT(*) FROM tickets GROUP BY priority;"}
{"question": "Schema:\nCREATE TABLE sales (\n  id INTEGER PRIMARY KEY,\n  product_id INTEGER,\n  quantity INTEGER,\n  sale_date DATE,\n  region TEXT\n);\n\nQuestion: List sales from the last 7 days.", "answer": "SELECT * FROM sales WHERE sale_date >= DATE('now', '-7 days');"}
{"question": "Schema:\nCREATE TABLE applicants (\n  id INTEGER PRIMARY KEY,\n  name TEXT NOT NULL,\n  position TEXT,\n  experience_years INTEGER,\n  status TEXT\n);\n\nQuestion: How many applicants applied for each position?", "answer": "SELECT position, COUNT(*) FROM applicants GROUP BY position;"}
{"question": "Schema:\nCREATE TABLE employees (\n  id INTEGER PRIMARY KEY,\n  name TEXT NOT NULL,\n  department TEXT,\n  start_date DATE,\n  end_date DATE\n);\n\nQuestion: List employees who left the company in 2024.", "answer": "SELECT * FROM employees WHERE end_date >= '2024-01-01' AND end_date < '2025-01-01';"}
{"question": "Schema:\nCREATE TABLE items (\n  id INTEGER PRIMARY KEY,\n  name TEXT NOT NULL,\n  category TEXT,\n  price REAL,\n  is_on_sale BOOLEAN\n);\n\nQuestion: What is the maximum price of items on sale?", "answer": "SELECT MAX(price) FROM items WHERE is_on_sale = 1;"}
{"question": "Schema:\nCREATE TABLE messages (\n  id INTEGER PRIMARY KEY,\n  sender_id INTEGER,\n  receiver_id INTEGER,\n  content TEXT,\n  sent_at DATETIME\n);\n\nQuestion: How many messages did each sender send?", "answer": "SELECT sender_id, COUNT(*) FROM messages GROUP BY sender_id;"}
{"question": "Schema:\nCREATE TABLE vendors (\n  id INTEGER PRIMARY KEY,\n  name TEXT NOT NULL,\n  contact_email TEXT,\n  country TEXT\n);\n\nCREATE TABLE products (\n  id INTEGER PRIMARY KEY,\n  vendor_id INTEGER REFERENCES vendors(id),\n  name TEXT NOT NULL,\n  price REAL,\n  category TEXT\n);\n\nQuestion: List all products with their vendor names.", "answer": "SELECT p.name, v.name AS vendor_name FROM products p JOIN vendors v ON p.vendor_id = v.id;"}
{"question": "Schema:\nCREATE TABLE teams (\n  id INTEGER PRIMARY KEY,\n  name TEXT NOT NULL,\n  manager TEXT,\n  budget INTEGER\n);\n\nCREATE TABLE projects (\n  id INTEGER PRIMARY KEY,\n  team_id INTEGER REFERENCES teams(id),\n  name TEXT NOT NULL,\n  status TEXT,\n  deadline DATE\n);\n\nQuestion: How many active projects does each team have?", "answer": "SELECT t.name, COUNT(*) FROM teams t JOIN projects p ON t.id = p.team_id WHERE p.status = 'active' GROUP BY t.id, t.name;"}
{"question": "Schema:\nCREATE TABLE instructors (\n  id INTEGER PRIMARY KEY,\n  name TEXT NOT NULL,\n  department TEXT,\n  hire_date DATE\n);\n\nCREATE TABLE classes (\n  id INTEGER PRIMARY KEY,\n  instructor_id INTEGER REFERENCES instructors(id),\n  course_name TEXT,\n  semester TEXT,\n  enrollment INTEGER\n);\n\nQuestion: What is the total enrollment per instructor?", "answer": "SELECT i.name, SUM(c.enrollment) FROM instructors i JOIN classes c ON i.id = c.instructor_id GROUP BY i.id, i.name;"}
{"question": "Schema:\nCREATE TABLE warehouses (\n  id INTEGER PRIMARY KEY,\n  name TEXT NOT NULL,\n  city TEXT,\n  capacity INTEGER\n);\n\nCREATE TABLE shipments (\n  id INTEGER PRIMARY KEY,\n  warehouse_id INTEGER REFERENCES warehouses(id),\n  destination TEXT,\n  ship_date DATE,\n  weight REAL\n);\n\nQuestion: What is the total shipment weight per warehouse?", "answer": "SELECT w.name, SUM(s.weight) FROM warehouses w JOIN shipments s ON w.id = s.warehouse_id GROUP BY w.id, w.name;"}
{"question": "Schema:\nCREATE TABLE artists (\n  id INTEGER PRIMARY KEY,\n  name TEXT NOT NULL,\n  genre TEXT,\n  country TEXT\n);\n\nCREATE TABLE albums (\n  id INTEGER PRIMARY KEY,\n  artist_id INTEGER REFERENCES artists(id),\n  title TEXT NOT NULL,\n  release_year INTEGER,\n  sales INTEGER\n);\n\nQuestion: Which artists have total album sales over 1 million?", "answer": "SELECT a.name, SUM(al.sales) FROM artists a JOIN albums al ON a.id = al.artist_id GROUP BY a.id, a.name HAVING SUM(al.sales) > 1000000;"}
{"question": "Schema:\nCREATE TABLE clinics (\n  id INTEGER PRIMARY KEY,\n  name TEXT NOT NULL,\n  address TEXT,\n  phone TEXT\n);\n\nCREATE TABLE visits (\n  id INTEGER PRIMARY KEY,\n  clinic_id INTEGER REFERENCES clinics(id),\n  patient_name TEXT,\n  visit_date DATE,\n  diagnosis TEXT\n);\n\nQuestion: How many patient visits per clinic this year?", "answer": "SELECT c.name, COUNT(*) FROM clinics c JOIN visits v ON c.id = v.clinic_id WHERE v.visit_date >= '2024-01-01' GROUP BY c.id, c.name;"}
{"question": "Schema:\nCREATE TABLE banks (\n  id INTEGER PRIMARY KEY,\n  name TEXT NOT NULL,\n  headquarters TEXT\n);\n\nCREATE TABLE loans (\n  id INTEGER PRIMARY KEY,\n  bank_id INTEGER REFERENCES banks(id),\n  customer_name TEXT,\n  amount REAL,\n  interest_rate REAL,\n  status TEXT\n);\n\nQuestion: What is the total loan amount per bank?", "answer": "SELECT b.name, SUM(l.amount) FROM banks b JOIN loans l ON b.id = l.bank_id GROUP BY b.id, b.name;"}
{"question": "Schema:\nCREATE TABLE brands (\n  id INTEGER PRIMARY KEY,\n  name TEXT NOT NULL,\n  industry TEXT\n);\n\nCREATE TABLE campaigns (\n  id INTEGER PRIMARY KEY,\n  brand_id INTEGER REFERENCES brands(id),\n  name TEXT,\n  budget REAL,\n  start_date DATE,\n  end_date DATE\n);\n\nQuestion: What is the average campaign budget per brand?", "answer": "SELECT b.name, AVG(c.budget) FROM brands b JOIN campaigns c ON b.id = c.brand_id GROUP BY b.id, b.name;"}
{"question": "Schema:\nCREATE TABLE publishers (\n  id INTEGER PRIMARY KEY,\n  name TEXT NOT NULL,\n  founded_year INTEGER\n);\n\nCREATE TABLE games (\n  id INTEGER PRIMARY KEY,\n  publisher_id INTEGER REFERENCES publishers(id),\n  title TEXT NOT NULL,\n  platform TEXT,\n  rating REAL\n);\n\nQuestion: List all games with their publisher names.", "answer": "SELECT g.title, p.name AS publisher_name FROM games g JOIN publishers p ON g.publisher_id = p.id;"}
{"question": "Schema:\nCREATE TABLE regions (\n  id INTEGER PRIMARY KEY,\n  name TEXT NOT NULL,\n  country TEXT\n);\n\nCREATE TABLE stores (\n  id INTEGER PRIMARY KEY,\n  region_id INTEGER REFERENCES regions(id),\n  name TEXT,\n  revenue REAL,\n  employee_count INTEGER\n);\n\nQuestion: Which regions have total store revenue exceeding 500000?", "answer": "SELECT r.name FROM regions r JOIN stores s ON r.id = s.region_id GROUP BY r.id, r.name HAVING SUM(s.revenue) > 500000;"}
{"question": "Schema:\nCREATE TABLE subscribers (\n  id INTEGER PRIMARY KEY,\n  email TEXT UNIQUE,\n  plan_type TEXT,\n  monthly_fee REAL\n);\n\nCREATE TABLE usage_logs (\n  id INTEGER PRIMARY KEY,\n  subscriber_id INTEGER REFERENCES subscribers(id),\n  data_used_gb REAL,\n  log_date DATE\n);\n\nQuestion: What is the average data usage for premium subscribers?", "answer": "SELECT AVG(u.data_used_gb) FROM subscribers s JOIN usage_logs u ON s.id = u.subscriber_id WHERE s.plan_type = 'premium';"}
{"question": "Schema:\nCREATE TABLE staff (\n  id INTEGER PRIMARY KEY,\n  name TEXT NOT NULL,\n  role TEXT,\n  hourly_wage REAL,\n  hire_date DATE\n);\n\nQuestion: What is the wage range (min and max) for each role?", "answer": "SELECT role, MIN(hourly_wage), MAX(hourly_wage) FROM staff GROUP BY role;"}
{"question": "Schema:\nCREATE TABLE purchases (\n  id INTEGER PRIMARY KEY,\n  buyer_id INTEGER,\n  purchase_date DATE,\n  amount REAL,\n  category TEXT\n);\n\nQuestion: How many purchases were made each week in 2024?", "answer": "SELECT strftime('%W', purchase_date) AS week, COUNT(*) FROM purchases WHERE purchase_date >= '2024-01-01' AND purchase_date < '2025-01-01' GROUP BY strftime('%W', purchase_date);"}
{"question": "Schema:\nCREATE TABLE vehicles (\n  id INTEGER PRIMARY KEY,\n  make TEXT,\n  model TEXT,\n  year INTEGER,\n  price REAL\n);\n\nQuestion: List vehicles priced between 20000 and 40000.", "answer": "SELECT * FROM vehicles WHERE price BETWEEN 20000 AND 40000;"}
{"question": "Schema:\nCREATE TABLE contacts (\n  id INTEGER PRIMARY KEY,\n  name TEXT NOT NULL,\n  company TEXT,\n  email TEXT,\n  phone TEXT\n);\n\nQuestion: Find contacts whose company contains 'Tech'.", "answer": "SELECT * FROM contacts WHERE company LIKE '%Tech%';"}
{"question": "Schema:\nCREATE TABLE employees (\n  id INTEGER PRIMARY KEY,\n  name TEXT NOT NULL,\n  department TEXT,\n  salary INTEGER,\n  manager_id INTEGER\n);\n\nQuestion: List employees earning above the company average salary.", "answer": "SELECT * FROM employees WHERE salary > (SELECT AVG(salary) FROM employees);"}
{"question": "Schema:\nCREATE TABLE properties (\n  id INTEGER PRIMARY KEY,\n  address TEXT,\n  city TEXT,\n  price REAL,\n  bedrooms INTEGER\n);\n\nQuestion: Find properties priced above average for their city.", "answer": "SELECT p1.* FROM properties p1 WHERE p1.price > (SELECT AVG(p2.price) FROM properties p2 WHERE p2.city = p1.city);"}
{"question": "Schema:\nCREATE TABLE ledger (\n  id INTEGER PRIMARY KEY,\n  account_id INTEGER,\n  debit REAL,\n  credit REAL,\n  entry_date DATE\n);\n\nQuestion: What is the net balance (credits minus debits)?", "answer": "SELECT SUM(credit) - SUM(debit) FROM ledger;"}
{"question": "Schema:\nCREATE TABLE employees (\n  id INTEGER PRIMARY KEY,\n  name TEXT NOT NULL,\n  department TEXT,\n  salary INTEGER,\n  tenure_years INTEGER\n);\n\nQuestion: Rank employees by tenure within each department.", "answer": "SELECT name, department, tenure_years, RANK() OVER (PARTITION BY department ORDER BY tenure_years DESC) AS rank FROM employees;"}
{"question": "Schema:\nCREATE TABLE tasks (\n  id INTEGER PRIMARY KEY,\n  project_id INTEGER,\n  title TEXT,\n  status TEXT,\n  assigned_to INTEGER\n);\n\nQuestion: What percentage of tasks are completed?", "answer": "SELECT (COUNT(CASE WHEN status = 'completed' THEN 1 END) * 100.0 / COUNT(*)) FROM tasks;"}
{"question": "Schema:\nCREATE TABLE suppliers (\n  id INTEGER PRIMARY KEY,\n  name TEXT NOT NULL,\n  contact_email TEXT,\n  rating REAL\n);\n\nCREATE TABLE purchase_orders (\n  id INTEGER PRIMARY KEY,\n  supplier_id INTEGER REFERENCES suppliers(id),\n  order_date DATE,\n  total_value REAL,\n  status TEXT\n);\n\nQuestion: Find suppliers with no purchase orders.", "answer": "SELECT s.* FROM suppliers s LEFT JOIN purchase_orders po ON s.id = po.supplier_id WHERE po.id IS NULL;"}
{"question": "Schema:\nCREATE TABLE movies (\n  id INTEGER PRIMARY KEY,\n  title TEXT NOT NULL,\n  genre TEXT,\n  release_year INTEGER\n);\n\nCREATE TABLE ratings (\n  id INTEGER PRIMARY KEY,\n  movie_id INTEGER REFERENCES movies(id),\n  user_id INTEGER,\n  score INTEGER,\n  rated_at DATE\n);\n\nQuestion: What is the average rating for each movie?", "answer": "SELECT m.title, AVG(r.score) FROM movies m JOIN ratings r ON m.id = r.movie_id GROUP BY m.id, m.title;"}
{"question": "Schema:\nCREATE TABLE divisions (\n  id INTEGER PRIMARY KEY,\n  name TEXT NOT NULL,\n  head_count INTEGER\n);\n\nCREATE TABLE budgets (\n  id INTEGER PRIMARY KEY,\n  division_id INTEGER REFERENCES divisions(id),\n  fiscal_year INTEGER,\n  allocated REAL,\n  spent REAL\n);\n\nQuestion: Find the division with highest spending in 2024.", "answer": "SELECT d.name, b.spent FROM divisions d JOIN budgets b ON d.id = b.division_id WHERE b.fiscal_year = 2024 ORDER BY b.spent DESC LIMIT 1;"}
{"question": "Schema:\nCREATE TABLE subscriptions (\n  id INTEGER PRIMARY KEY,\n  user_id INTEGER,\n  plan TEXT,\n  start_date DATE,\n  is_active BOOLEAN\n);\n\nQuestion: What is the total count of inactive subscriptions?", "answer": "SELECT COUNT(*) FROM subscriptions WHERE is_active = 0;"}
{"question": "Schema:\nCREATE TABLE routes (\n  id INTEGER PRIMARY KEY,\n  origin_city TEXT,\n  destination_city TEXT,\n  distance_km INTEGER,\n  avg_duration_min INTEGER,\n  fare REAL\n);\n\nQuestion: List routes from Chicago to cities within 500km.", "answer": "SELECT * FROM routes WHERE origin_city = 'Chicago' AND distance_km <= 500;"}
