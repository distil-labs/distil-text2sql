{"question": "Schema:\nCREATE TABLE employees (\n  id INTEGER PRIMARY KEY,\n  name TEXT NOT NULL,\n  department TEXT,\n  salary INTEGER,\n  hire_date DATE\n);\n\nQuestion: How many employees are in the Sales department?", "answer": "SELECT COUNT(*) FROM employees WHERE department = 'Sales';"}
{"question": "Schema:\nCREATE TABLE products (\n  id INTEGER PRIMARY KEY,\n  name TEXT NOT NULL,\n  category TEXT,\n  price REAL,\n  stock_quantity INTEGER\n);\n\nQuestion: What is the average price of products in the Electronics category?", "answer": "SELECT AVG(price) FROM products WHERE category = 'Electronics';"}
{"question": "Schema:\nCREATE TABLE customers (\n  id INTEGER PRIMARY KEY,\n  name TEXT NOT NULL,\n  email TEXT UNIQUE,\n  city TEXT,\n  created_at DATE\n);\n\nQuestion: List all customers from New York.", "answer": "SELECT * FROM customers WHERE city = 'New York';"}
{"question": "Schema:\nCREATE TABLE orders (\n  id INTEGER PRIMARY KEY,\n  customer_id INTEGER,\n  order_date DATE,\n  total_amount REAL,\n  status TEXT\n);\n\nQuestion: What is the total revenue from completed orders?", "answer": "SELECT SUM(total_amount) FROM orders WHERE status = 'completed';"}
{"question": "Schema:\nCREATE TABLE students (\n  id INTEGER PRIMARY KEY,\n  name TEXT NOT NULL,\n  major TEXT,\n  gpa REAL,\n  enrollment_year INTEGER\n);\n\nQuestion: Who are the top 5 students by GPA?", "answer": "SELECT name, gpa FROM students ORDER BY gpa DESC LIMIT 5;"}
{"question": "Schema:\nCREATE TABLE transactions (\n  id INTEGER PRIMARY KEY,\n  account_id INTEGER,\n  amount REAL,\n  transaction_type TEXT,\n  transaction_date DATETIME\n);\n\nQuestion: What is the maximum transaction amount?", "answer": "SELECT MAX(amount) FROM transactions;"}
{"question": "Schema:\nCREATE TABLE posts (\n  id INTEGER PRIMARY KEY,\n  user_id INTEGER,\n  title TEXT,\n  content TEXT,\n  likes INTEGER,\n  created_at DATETIME\n);\n\nQuestion: How many posts have more than 100 likes?", "answer": "SELECT COUNT(*) FROM posts WHERE likes > 100;"}
{"question": "Schema:\nCREATE TABLE patients (\n  id INTEGER PRIMARY KEY,\n  name TEXT NOT NULL,\n  age INTEGER,\n  gender TEXT,\n  diagnosis TEXT,\n  admission_date DATE\n);\n\nQuestion: What is the average age of patients?", "answer": "SELECT AVG(age) FROM patients;"}
{"question": "Schema:\nCREATE TABLE employees (\n  id INTEGER PRIMARY KEY,\n  name TEXT NOT NULL,\n  department TEXT,\n  salary INTEGER,\n  is_active BOOLEAN\n);\n\nQuestion: List all active employees earning more than 50000.", "answer": "SELECT * FROM employees WHERE is_active = 1 AND salary > 50000;"}
{"question": "Schema:\nCREATE TABLE products (\n  id INTEGER PRIMARY KEY,\n  name TEXT NOT NULL,\n  category TEXT,\n  price REAL,\n  stock_quantity INTEGER\n);\n\nQuestion: How many products are out of stock?", "answer": "SELECT COUNT(*) FROM products WHERE stock_quantity = 0;"}
{"question": "Schema:\nCREATE TABLE orders (\n  id INTEGER PRIMARY KEY,\n  customer_id INTEGER,\n  order_date DATE,\n  total_amount REAL,\n  status TEXT\n);\n\nQuestion: What is the average order value?", "answer": "SELECT AVG(total_amount) FROM orders;"}
{"question": "Schema:\nCREATE TABLE courses (\n  id INTEGER PRIMARY KEY,\n  name TEXT NOT NULL,\n  department TEXT,\n  credits INTEGER,\n  instructor TEXT\n);\n\nQuestion: List all courses with more than 3 credits.", "answer": "SELECT * FROM courses WHERE credits > 3;"}
{"question": "Schema:\nCREATE TABLE employees (\n  id INTEGER PRIMARY KEY,\n  name TEXT NOT NULL,\n  department TEXT,\n  salary INTEGER,\n  hire_date DATE\n);\n\nQuestion: What is the total salary expense per department?", "answer": "SELECT department, SUM(salary) FROM employees GROUP BY department;"}
{"question": "Schema:\nCREATE TABLE products (\n  id INTEGER PRIMARY KEY,\n  name TEXT NOT NULL,\n  category TEXT,\n  price REAL,\n  rating REAL\n);\n\nQuestion: What are the categories with average rating above 4?", "answer": "SELECT category, AVG(rating) FROM products GROUP BY category HAVING AVG(rating) > 4;"}
{"question": "Schema:\nCREATE TABLE users (\n  id INTEGER PRIMARY KEY,\n  username TEXT UNIQUE,\n  email TEXT,\n  signup_date DATE,\n  is_verified BOOLEAN\n);\n\nQuestion: How many verified users signed up in 2024?", "answer": "SELECT COUNT(*) FROM users WHERE is_verified = 1 AND signup_date >= '2024-01-01' AND signup_date < '2025-01-01';"}
{"question": "Schema:\nCREATE TABLE appointments (\n  id INTEGER PRIMARY KEY,\n  patient_id INTEGER,\n  doctor_id INTEGER,\n  appointment_date DATETIME,\n  status TEXT\n);\n\nQuestion: How many appointments are scheduled for today?", "answer": "SELECT COUNT(*) FROM appointments WHERE DATE(appointment_date) = DATE('now');"}
{"question": "Schema:\nCREATE TABLE transactions (\n  id INTEGER PRIMARY KEY,\n  account_id INTEGER,\n  amount REAL,\n  transaction_type TEXT,\n  transaction_date DATE\n);\n\nQuestion: What is the total amount of deposits?", "answer": "SELECT SUM(amount) FROM transactions WHERE transaction_type = 'deposit';"}
{"question": "Schema:\nCREATE TABLE employees (\n  id INTEGER PRIMARY KEY,\n  name TEXT NOT NULL,\n  department TEXT,\n  salary INTEGER,\n  manager_id INTEGER\n);\n\nQuestion: Who earns the highest salary?", "answer": "SELECT name, salary FROM employees ORDER BY salary DESC LIMIT 1;"}
{"question": "Schema:\nCREATE TABLE products (\n  id INTEGER PRIMARY KEY,\n  name TEXT NOT NULL,\n  category TEXT,\n  price REAL,\n  stock_quantity INTEGER\n);\n\nQuestion: What is the total stock value per category?", "answer": "SELECT category, SUM(price * stock_quantity) FROM products GROUP BY category;"}
{"question": "Schema:\nCREATE TABLE customers (\n  id INTEGER PRIMARY KEY,\n  name TEXT NOT NULL,\n  email TEXT,\n  country TEXT,\n  total_purchases REAL\n);\n\nQuestion: Which countries have more than 10 customers?", "answer": "SELECT country, COUNT(*) FROM customers GROUP BY country HAVING COUNT(*) > 10;"}
{"question": "Schema:\nCREATE TABLE orders (\n  id INTEGER PRIMARY KEY,\n  customer_id INTEGER,\n  order_date DATE,\n  total_amount REAL,\n  shipping_address TEXT\n);\n\nQuestion: List orders placed in the last 30 days.", "answer": "SELECT * FROM orders WHERE order_date >= DATE('now', '-30 days');"}
{"question": "Schema:\nCREATE TABLE students (\n  id INTEGER PRIMARY KEY,\n  name TEXT NOT NULL,\n  major TEXT,\n  gpa REAL,\n  enrollment_year INTEGER\n);\n\nQuestion: How many students are enrolled in each major?", "answer": "SELECT major, COUNT(*) FROM students GROUP BY major;"}
{"question": "Schema:\nCREATE TABLE employees (\n  id INTEGER PRIMARY KEY,\n  name TEXT NOT NULL,\n  department TEXT,\n  salary INTEGER,\n  hire_date DATE\n);\n\nQuestion: List employees hired before 2020.", "answer": "SELECT * FROM employees WHERE hire_date < '2020-01-01';"}
{"question": "Schema:\nCREATE TABLE products (\n  id INTEGER PRIMARY KEY,\n  name TEXT NOT NULL,\n  category TEXT,\n  price REAL,\n  is_featured BOOLEAN\n);\n\nQuestion: What is the minimum price of featured products?", "answer": "SELECT MIN(price) FROM products WHERE is_featured = 1;"}
{"question": "Schema:\nCREATE TABLE comments (\n  id INTEGER PRIMARY KEY,\n  post_id INTEGER,\n  user_id INTEGER,\n  content TEXT,\n  created_at DATETIME\n);\n\nQuestion: How many comments were made per post?", "answer": "SELECT post_id, COUNT(*) FROM comments GROUP BY post_id;"}
{"question": "Schema:\nCREATE TABLE customers (\n  id INTEGER PRIMARY KEY,\n  name TEXT NOT NULL,\n  email TEXT UNIQUE,\n  city TEXT,\n  created_at DATE\n);\n\nCREATE TABLE orders (\n  id INTEGER PRIMARY KEY,\n  customer_id INTEGER REFERENCES customers(id),\n  order_date DATE,\n  total_amount REAL,\n  status TEXT\n);\n\nQuestion: List all customers who have placed orders.", "answer": "SELECT DISTINCT c.name, c.email FROM customers c JOIN orders o ON c.id = o.customer_id;"}
{"question": "Schema:\nCREATE TABLE employees (\n  id INTEGER PRIMARY KEY,\n  name TEXT NOT NULL,\n  department_id INTEGER REFERENCES departments(id),\n  salary INTEGER,\n  hire_date DATE\n);\n\nCREATE TABLE departments (\n  id INTEGER PRIMARY KEY,\n  name TEXT NOT NULL,\n  budget INTEGER,\n  location TEXT\n);\n\nQuestion: List all employees with their department names.", "answer": "SELECT e.name, d.name AS department_name FROM employees e JOIN departments d ON e.department_id = d.id;"}
{"question": "Schema:\nCREATE TABLE students (\n  id INTEGER PRIMARY KEY,\n  name TEXT NOT NULL,\n  email TEXT,\n  enrollment_year INTEGER\n);\n\nCREATE TABLE enrollments (\n  id INTEGER PRIMARY KEY,\n  student_id INTEGER REFERENCES students(id),\n  course_id INTEGER,\n  grade TEXT,\n  semester TEXT\n);\n\nQuestion: How many courses is each student enrolled in?", "answer": "SELECT s.name, COUNT(*) FROM students s JOIN enrollments e ON s.id = e.student_id GROUP BY s.id, s.name;"}
{"question": "Schema:\nCREATE TABLE products (\n  id INTEGER PRIMARY KEY,\n  name TEXT NOT NULL,\n  category TEXT,\n  price REAL\n);\n\nCREATE TABLE order_items (\n  id INTEGER PRIMARY KEY,\n  order_id INTEGER,\n  product_id INTEGER REFERENCES products(id),\n  quantity INTEGER,\n  unit_price REAL\n);\n\nQuestion: What is the total quantity sold per product?", "answer": "SELECT p.name, SUM(oi.quantity) FROM products p JOIN order_items oi ON p.id = oi.product_id GROUP BY p.id, p.name;"}
{"question": "Schema:\nCREATE TABLE users (\n  id INTEGER PRIMARY KEY,\n  username TEXT UNIQUE,\n  email TEXT,\n  created_at DATE\n);\n\nCREATE TABLE posts (\n  id INTEGER PRIMARY KEY,\n  user_id INTEGER REFERENCES users(id),\n  title TEXT,\n  content TEXT,\n  created_at DATETIME\n);\n\nQuestion: Which users have posted more than 5 times?", "answer": "SELECT u.username, COUNT(*) FROM users u JOIN posts p ON u.id = p.user_id GROUP BY u.id, u.username HAVING COUNT(*) > 5;"}
{"question": "Schema:\nCREATE TABLE doctors (\n  id INTEGER PRIMARY KEY,\n  name TEXT NOT NULL,\n  specialty TEXT,\n  hospital TEXT\n);\n\nCREATE TABLE appointments (\n  id INTEGER PRIMARY KEY,\n  doctor_id INTEGER REFERENCES doctors(id),\n  patient_name TEXT,\n  appointment_date DATE,\n  reason TEXT\n);\n\nQuestion: How many appointments does each doctor have?", "answer": "SELECT d.name, COUNT(*) FROM doctors d JOIN appointments a ON d.id = a.doctor_id GROUP BY d.id, d.name;"}
{"question": "Schema:\nCREATE TABLE accounts (\n  id INTEGER PRIMARY KEY,\n  customer_name TEXT NOT NULL,\n  account_type TEXT,\n  balance REAL,\n  opened_date DATE\n);\n\nCREATE TABLE transactions (\n  id INTEGER PRIMARY KEY,\n  account_id INTEGER REFERENCES accounts(id),\n  amount REAL,\n  transaction_type TEXT,\n  transaction_date DATE\n);\n\nQuestion: What is the total transaction amount per account?", "answer": "SELECT a.customer_name, SUM(t.amount) FROM accounts a JOIN transactions t ON a.id = t.account_id GROUP BY a.id, a.customer_name;"}
{"question": "Schema:\nCREATE TABLE categories (\n  id INTEGER PRIMARY KEY,\n  name TEXT NOT NULL,\n  description TEXT\n);\n\nCREATE TABLE products (\n  id INTEGER PRIMARY KEY,\n  name TEXT NOT NULL,\n  category_id INTEGER REFERENCES categories(id),\n  price REAL,\n  stock_quantity INTEGER\n);\n\nQuestion: What is the average product price per category?", "answer": "SELECT c.name, AVG(p.price) FROM categories c JOIN products p ON c.id = p.category_id GROUP BY c.id, c.name;"}
{"question": "Schema:\nCREATE TABLE authors (\n  id INTEGER PRIMARY KEY,\n  name TEXT NOT NULL,\n  country TEXT\n);\n\nCREATE TABLE books (\n  id INTEGER PRIMARY KEY,\n  title TEXT NOT NULL,\n  author_id INTEGER REFERENCES authors(id),\n  published_year INTEGER,\n  genre TEXT\n);\n\nQuestion: List all books with their author names.", "answer": "SELECT b.title, a.name AS author_name FROM books b JOIN authors a ON b.author_id = a.id;"}
{"question": "Schema:\nCREATE TABLE departments (\n  id INTEGER PRIMARY KEY,\n  name TEXT NOT NULL,\n  budget INTEGER\n);\n\nCREATE TABLE employees (\n  id INTEGER PRIMARY KEY,\n  name TEXT NOT NULL,\n  department_id INTEGER REFERENCES departments(id),\n  salary INTEGER\n);\n\nQuestion: Which departments have total salary expenses exceeding their budget?", "answer": "SELECT d.name FROM departments d JOIN employees e ON d.id = e.department_id GROUP BY d.id, d.name, d.budget HAVING SUM(e.salary) > d.budget;"}
{"question": "Schema:\nCREATE TABLE customers (\n  id INTEGER PRIMARY KEY,\n  name TEXT NOT NULL,\n  email TEXT,\n  membership_level TEXT\n);\n\nCREATE TABLE orders (\n  id INTEGER PRIMARY KEY,\n  customer_id INTEGER REFERENCES customers(id),\n  total_amount REAL,\n  order_date DATE\n);\n\nQuestion: What is the average order amount for premium customers?", "answer": "SELECT AVG(o.total_amount) FROM customers c JOIN orders o ON c.id = o.customer_id WHERE c.membership_level = 'premium';"}
{"question": "Schema:\nCREATE TABLE employees (\n  id INTEGER PRIMARY KEY,\n  name TEXT NOT NULL,\n  department TEXT,\n  salary INTEGER,\n  hire_date DATE\n);\n\nQuestion: What is the salary range (min and max) in each department?", "answer": "SELECT department, MIN(salary), MAX(salary) FROM employees GROUP BY department;"}
{"question": "Schema:\nCREATE TABLE orders (\n  id INTEGER PRIMARY KEY,\n  customer_id INTEGER,\n  order_date DATE,\n  total_amount REAL,\n  status TEXT\n);\n\nQuestion: How many orders were placed each month in 2024?", "answer": "SELECT strftime('%m', order_date) AS month, COUNT(*) FROM orders WHERE order_date >= '2024-01-01' AND order_date < '2025-01-01' GROUP BY strftime('%m', order_date);"}
{"question": "Schema:\nCREATE TABLE products (\n  id INTEGER PRIMARY KEY,\n  name TEXT NOT NULL,\n  category TEXT,\n  price REAL,\n  rating REAL\n);\n\nQuestion: List products priced between 10 and 50 dollars.", "answer": "SELECT * FROM products WHERE price BETWEEN 10 AND 50;"}
{"question": "Schema:\nCREATE TABLE employees (\n  id INTEGER PRIMARY KEY,\n  name TEXT NOT NULL,\n  department TEXT,\n  salary INTEGER,\n  email TEXT\n);\n\nQuestion: Find employees whose name starts with 'J'.", "answer": "SELECT * FROM employees WHERE name LIKE 'J%';"}
{"question": "Schema:\nCREATE TABLE students (\n  id INTEGER PRIMARY KEY,\n  name TEXT NOT NULL,\n  major TEXT,\n  gpa REAL,\n  advisor_id INTEGER\n);\n\nQuestion: List students with GPA above the average GPA.", "answer": "SELECT * FROM students WHERE gpa > (SELECT AVG(gpa) FROM students);"}
{"question": "Schema:\nCREATE TABLE products (\n  id INTEGER PRIMARY KEY,\n  name TEXT NOT NULL,\n  category TEXT,\n  price REAL,\n  supplier_id INTEGER\n);\n\nQuestion: Which products have price above average for their category?", "answer": "SELECT p1.* FROM products p1 WHERE p1.price > (SELECT AVG(p2.price) FROM products p2 WHERE p2.category = p1.category);"}
{"question": "Schema:\nCREATE TABLE transactions (\n  id INTEGER PRIMARY KEY,\n  account_id INTEGER,\n  amount REAL,\n  transaction_type TEXT,\n  transaction_date DATE\n);\n\nQuestion: What is the net balance change (deposits minus withdrawals)?", "answer": "SELECT SUM(CASE WHEN transaction_type = 'deposit' THEN amount ELSE -amount END) FROM transactions;"}
{"question": "Schema:\nCREATE TABLE employees (\n  id INTEGER PRIMARY KEY,\n  name TEXT NOT NULL,\n  department TEXT,\n  salary INTEGER,\n  hire_date DATE\n);\n\nQuestion: Rank employees by salary within each department.", "answer": "SELECT name, department, salary, RANK() OVER (PARTITION BY department ORDER BY salary DESC) AS rank FROM employees;"}
{"question": "Schema:\nCREATE TABLE orders (\n  id INTEGER PRIMARY KEY,\n  customer_id INTEGER,\n  order_date DATE,\n  total_amount REAL,\n  status TEXT\n);\n\nQuestion: What percentage of orders are completed?", "answer": "SELECT (COUNT(CASE WHEN status = 'completed' THEN 1 END) * 100.0 / COUNT(*)) FROM orders;"}
{"question": "Schema:\nCREATE TABLE customers (\n  id INTEGER PRIMARY KEY,\n  name TEXT NOT NULL,\n  email TEXT,\n  city TEXT\n);\n\nCREATE TABLE orders (\n  id INTEGER PRIMARY KEY,\n  customer_id INTEGER REFERENCES customers(id),\n  total_amount REAL,\n  order_date DATE\n);\n\nQuestion: Find customers who have never placed an order.", "answer": "SELECT c.* FROM customers c LEFT JOIN orders o ON c.id = o.customer_id WHERE o.id IS NULL;"}
{"question": "Schema:\nCREATE TABLE products (\n  id INTEGER PRIMARY KEY,\n  name TEXT NOT NULL,\n  category TEXT,\n  price REAL\n);\n\nCREATE TABLE reviews (\n  id INTEGER PRIMARY KEY,\n  product_id INTEGER REFERENCES products(id),\n  rating INTEGER,\n  comment TEXT,\n  created_at DATE\n);\n\nQuestion: What is the average rating for each product?", "answer": "SELECT p.name, AVG(r.rating) FROM products p JOIN reviews r ON p.id = r.product_id GROUP BY p.id, p.name;"}
{"question": "Schema:\nCREATE TABLE employees (\n  id INTEGER PRIMARY KEY,\n  name TEXT NOT NULL,\n  department_id INTEGER REFERENCES departments(id),\n  salary INTEGER\n);\n\nCREATE TABLE departments (\n  id INTEGER PRIMARY KEY,\n  name TEXT NOT NULL,\n  manager_id INTEGER\n);\n\nQuestion: Find the highest paid employee in each department.", "answer": "SELECT d.name AS department, e.name, e.salary FROM employees e JOIN departments d ON e.department_id = d.id WHERE e.salary = (SELECT MAX(salary) FROM employees WHERE department_id = e.department_id);"}
{"question": "Schema:\nCREATE TABLE invoices (\n  id INTEGER PRIMARY KEY,\n  customer_id INTEGER,\n  invoice_date DATE,\n  amount REAL,\n  is_paid BOOLEAN\n);\n\nQuestion: What is the total unpaid invoice amount?", "answer": "SELECT SUM(amount) FROM invoices WHERE is_paid = 0;"}
{"question": "Schema:\nCREATE TABLE flights (\n  id INTEGER PRIMARY KEY,\n  origin TEXT,\n  destination TEXT,\n  departure_time DATETIME,\n  price REAL,\n  seats_available INTEGER\n);\n\nQuestion: List available flights from New York to Los Angeles.", "answer": "SELECT * FROM flights WHERE origin = 'New York' AND destination = 'Los Angeles' AND seats_available > 0;"}
